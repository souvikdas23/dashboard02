/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.5 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
//Not using strict: uneven strict support in browsers, #392, and causes
//problems with requirejs.exec()/transpiler plugins that may not be strict.
/*jslint regexp: true, nomen: true, sloppy: true */
/*global window, navigator, document, importScripts, setTimeout, opera */

var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1){if(e[n]&&t(e[n],n,e)){break}}}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1){if(e[n]&&t(e[n],n,e)){break}}}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e){if(hasProp(e,n)){if(t(e[n],n)){break}}}}function mixin(e,t,n,r){if(t){eachProp(t,function(t,i){if(n||!hasProp(e,i)){if(r&&typeof t!=="string"){if(!e[i]){e[i]={}}mixin(e[i],t,n,r)}else{e[i]=t}}})}return e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(e){if(!e){return e}var t=global;each(e.split("."),function(e){t=t[e]});return t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);i.requireType=e;i.requireModules=r;if(n){i.originalError=n}return i}function newContext(e){function v(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n==="."){e.splice(t,1);t-=1}else if(n===".."){if(t===1&&(e[2]===".."||e[0]==="..")){break}else if(t>0){e.splice(t-1,2);t-=2}}}}function m(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,m=t&&t.split("/"),g=m,y=o.map,b=y&&y["*"];if(e&&e.charAt(0)==="."){if(t){if(getOwn(o.pkgs,t)){g=m=[t]}else{g=m.slice(0,m.length-1)}e=g.concat(e.split("/"));v(e);i=getOwn(o.pkgs,r=e[0]);e=e.join("/");if(i&&e===r+"/"+i.main){e=r}}else if(e.indexOf("./")===0){e=e.substring(2)}}if(n&&y&&(m||b)){u=e.split("/");for(a=u.length;a>0;a-=1){l=u.slice(0,a).join("/");if(m){for(f=m.length;f>0;f-=1){s=getOwn(y,m.slice(0,f).join("/"));if(s){s=getOwn(s,l);if(s){c=s;h=a;break}}}}if(c){break}if(!p&&b&&getOwn(b,l)){p=getOwn(b,l);d=a}}if(!c&&p){c=p;h=d}if(c){u.splice(0,h,c);e=u.join("/")}}return e}function g(e){if(isBrowser){each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName){t.parentNode.removeChild(t);return true}})}}function y(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1){g(e);t.shift();r.require.undef(e);r.require([e]);return true}}function b(e){var t,n=e?e.indexOf("!"):-1;if(n>-1){t=e.substring(0,n);e=e.substring(n+1,e.length)}return[t,e]}function w(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,v=true,g="";if(!e){v=false;e="_@r"+(p+=1)}a=b(e);f=a[0];e=a[1];if(f){f=m(f,l,i);o=getOwn(c,f)}if(e){if(f){if(o&&o.normalize){g=o.normalize(e,function(e){return m(e,l,i)})}else{g=m(e,l,i)}}else{g=m(e,l,i);a=b(g);f=a[0];g=a[1];n=true;s=r.nameToUrl(g)}}u=f&&!o&&!n?"_unnormalized"+(d+=1):"";return{prefix:f,name:g,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:v,id:(f?f+"!"+g:g)+u}}function E(e){var t=e.id,n=getOwn(u,t);if(!n){n=u[t]=new r.Module(e)}return n}function S(e,t,n){var r=e.id,i=getOwn(u,r);if(hasProp(c,r)&&(!i||i.defineEmitComplete)){if(t==="defined"){n(c[r])}}else{E(e).on(t,n)}}function x(e,t){var n=e.requireModules,r=false;if(t){t(e)}else{each(n,function(t){var n=getOwn(u,t);if(n){n.error=e;if(n.events.error){r=true;n.emit("error",e)}}});if(!r){req.onError(e)}}}function T(){if(globalDefQueue.length){apsp.apply(l,[l.length-1,0].concat(globalDefQueue));globalDefQueue=[]}}function N(e){delete u[e];delete a[e]}function C(e,t,n){var r=e.map.id;if(e.error){e.emit("error",e.error)}else{t[r]=true;each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);if(o&&!e.depMatched[i]&&!n[s]){if(getOwn(t,s)){e.defineDep(i,c[s]);e.check()}else{C(o,t,n)}}});n[r]=true}}function k(){var e,n,i,u,f=o.waitSeconds*1e3,l=f&&r.startTime+f<(new Date).getTime(),c=[],h=[],p=false,d=true;if(t){return}t=true;eachProp(a,function(t){e=t.map;n=e.id;if(!t.enabled){return}if(!e.isDefine){h.push(t)}if(!t.error){if(!t.inited&&l){if(y(n)){u=true;p=true}else{c.push(n);g(n)}}else if(!t.inited&&t.fetched&&e.isDefine){p=true;if(!e.prefix){return d=false}}}});if(l&&c.length){i=makeError("timeout","Load timeout for modules: "+c,null,c);i.contextName=r.contextName;return x(i)}if(d){each(h,function(e){C(e,{},{})})}if((!l||u)&&p){if((isBrowser||isWebWorker)&&!s){s=setTimeout(function(){s=0;k()},50)}}t=false}function L(e){if(!hasProp(c,e[0])){E(w(e[0],null,true)).init(e[1],e[2])}}function A(e,t,n,r){if(e.detachEvent&&!isOpera){if(r){e.detachEvent(r,t)}}else{e.removeEventListener(n,t,false)}}function O(e){var t=e.currentTarget||e.srcElement;A(t,r.onScriptLoad,"load","onreadystatechange");A(t,r.onScriptError,"error");return{node:t,id:t&&t.getAttribute("data-requiremodule")}}function M(){var e;T();while(l.length){e=l.shift();if(e[0]===null){return x(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]))}else{L(e)}}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p=1,d=1;i={require:function(e){if(e.require){return e.require}else{return e.require=r.makeRequire(e.map)}},exports:function(e){e.usingExports=true;if(e.map.isDefine){if(e.exports){return e.exports}else{return e.exports=c[e.map.id]={}}}},module:function(e){if(e.module){return e.module}else{return e.module={id:e.map.id,uri:e.map.url,config:function(){return o.config&&getOwn(o.config,e.map.id)||{}},exports:c[e.map.id]}}}};n=function(e){this.events=getOwn(f,e.id)||{};this.map=e;this.shim=getOwn(o.shim,e.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited){return}this.factory=t;if(n){this.on("error",n)}else if(this.events.error){n=bind(this,function(e){this.emit("error",e)})}this.depMaps=e&&e.slice(0);this.errback=n;this.inited=true;this.ignore=r.ignore;if(r.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(e,t){if(!this.depMatched[e]){this.depMatched[e]=true;this.depCount-=1;this.depExports[e]=t}},fetch:function(){if(this.fetched){return}this.fetched=true;r.startTime=(new Date).getTime();var e=this.map;if(this.shim){r.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}else{return e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;if(!h[e]){h[e]=true;r.load(this.map.id,e)}},check:function(){if(!this.enabled||this.enabling){return}var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited){this.fetch()}else if(this.error){this.emit("error",this.error)}else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error){try{s=r.execCb(n,o,i,s)}catch(u){e=u}}else{s=r.execCb(n,o,i,s)}if(this.map.isDefine){t=this.module;if(t&&t.exports!==undefined&&t.exports!==this.exports){s=t.exports}else if(s===undefined&&this.usingExports){s=this.exports}}if(e){e.requireMap=this.map;e.requireModules=[this.map.id];e.requireType="define";return x(this.error=e)}}else{s=o}this.exports=s;if(this.map.isDefine&&!this.ignore){c[n]=s;if(req.onResourceLoad){req.onResourceLoad(r,this.map,this.depMaps)}}N(n);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}},callPlugin:function(){var e=this.map,t=e.id,n=w(e.prefix);this.depMaps.push(n);S(n,"defined",bind(this,function(n){var i,s,a,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,c=r.makeRequire(e.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(n.normalize){f=n.normalize(f,function(e){return m(e,l,true)})||""}s=w(e.prefix+"!"+f,this.map.parentMap);S(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:true,ignore:true})}));a=getOwn(u,s.id);if(a){this.depMaps.push(s);if(this.events.error){a.on("error",bind(this,function(e){this.emit("error",e)}))}a.enable()}return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:true})});i.error=bind(this,function(e){this.inited=true;this.error=e;e.requireModules=[t];eachProp(u,function(e){if(e.map.id.indexOf(t+"_unnormalized")===0){N(e.map.id)}});x(e)});i.fromText=bind(this,function(n,s){var u=e.name,a=w(u),f=useInteractive;if(s){n=s}if(f){useInteractive=false}E(a);if(hasProp(o.config,t)){o.config[u]=o.config[t]}try{req.exec(n)}catch(l){return x(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}if(f){useInteractive=true}this.depMaps.push(a);r.completeLoad(u);c([u],i)});n.load(e.name,c,i,o)}));r.enable(n,this);this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e==="string"){e=w(e,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[t]=e;o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1;S(e,"defined",bind(this,function(e){this.defineDep(t,e);this.check()}));if(this.errback){S(e,"error",this.errback)}}n=e.id;s=u[n];if(!hasProp(i,n)&&s&&!s.enabled){r.enable(e,this)}}));eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);if(t&&!t.enabled){r.enable(e,this)}}));this.enabling=false;this.check()},on:function(e,t){var n=this.events[e];if(!n){n=this.events[e]=[]}n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)});if(e==="error"){delete this.events[e]}}};r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:w,nextTick:req.nextTick,onError:x,configure:function(e){if(e.baseUrl){if(e.baseUrl.charAt(e.baseUrl.length-1)!=="/"){e.baseUrl+="/"}}var t=o.pkgs,n=o.shim,i={paths:true,config:true,map:true};eachProp(e,function(e,t){if(i[t]){if(t==="map"){if(!o.map){o.map={}}mixin(o[t],e,true,true)}else{mixin(o[t],e,true)}}else{o[t]=e}});if(e.shim){eachProp(e.shim,function(e,t){if(isArray(e)){e={deps:e}}if((e.exports||e.init)&&!e.exportsFn){e.exportsFn=r.makeShimExports(e)}n[t]=e});o.shim=n}if(e.packages){each(e.packages,function(e){var n;e=typeof e==="string"?{name:e}:e;n=e.location;t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}});o.pkgs=t}eachProp(u,function(e,t){if(!e.inited&&!e.map.unnormalized){e.map=w(t)}});if(e.deps||e.callback){r.require(e.deps||[],e.callback)}},makeShimExports:function(e){function t(){var t;if(e.init){t=e.init.apply(global,arguments)}return t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;if(n.enableBuildCallback&&a&&isFunction(a)){a.__requireJsBuild=true}if(typeof o==="string"){if(isFunction(a)){return x(makeError("requireargs","Invalid require call"),f)}if(t&&hasProp(i,o)){return i[o](u[t.id])}if(req.get){return req.get(r,o,t,s)}h=w(o,t,false,true);l=h.id;if(!hasProp(c,l)){return x(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))}return c[l]}M();r.nextTick(function(){M();p=E(w(null,t));p.skipMap=n.skipMap;p.init(o,a,f,{enabled:true});k()});return s}n=n||{};mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";if(i!==-1&&(!o||i>1)){n=e.substring(i,e.length);e=e.substring(0,i)}return r.nameToUrl(m(e,t&&t.id,true),n,true)},defined:function(e){return hasProp(c,w(e,t,false,true).id)},specified:function(e){e=w(e,t,false,true).id;return hasProp(c,e)||hasProp(u,e)}});if(!t){s.undef=function(e){T();var n=w(e,t,true),r=getOwn(u,e);delete c[e];delete h[n.url];delete f[e];if(r){if(r.events.defined){f[e]=r.events}N(e)}}}return s},enable:function(e){var t=getOwn(u,e.id);if(t){E(e).enable()}},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;T();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t){break}t=true}else if(n[0]===e){t=true}L(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(y(e)){return}else{return x(makeError("nodefine","No define call for "+e,null,[e]))}}else{L([e,i.deps||[],i.exportsFn])}}k()},nameToUrl:function(e,t,n){var r,i,s,u,a,f,l,c,h;if(req.jsExtRegExp.test(e)){c=e+(t||"")}else{r=o.paths;i=o.pkgs;a=e.split("/");for(f=a.length;f>0;f-=1){l=a.slice(0,f).join("/");s=getOwn(i,l);h=getOwn(r,l);if(h){if(isArray(h)){h=h[0]}a.splice(0,f,h);break}else if(s){if(e===s.name){u=s.location+"/"+s.main}else{u=s.location}a.splice(0,f,u);break}}c=a.join("/");c+=t||(/\?/.test(c)||n?"":".js");c=(c.charAt(0)==="/"||c.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+c}return o.urlArgs?c+((c.indexOf("?")===-1?"?":"&")+o.urlArgs):c},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=O(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=O(e);if(!y(t.id)){return x(makeError("scripterror","Script error",e,[t.id]))}}};r.require=r.makeRequire();return r}function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==="interactive"){return interactiveScript}eachReverse(scripts(),function(e){if(e.readyState==="interactive"){return interactiveScript=e}});return interactiveScript}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.5",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!!(typeof window!=="undefined"&&navigator&&document),isWebWorker=!isBrowser&&typeof importScripts!=="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=false;if(typeof define!=="undefined"){return}if(typeof requirejs!=="undefined"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!=="undefined"&&!isFunction(require)){cfg=require;require=undefined}req=requirejs=function(e,t,n,r){var i,s,o=defContextName;if(!isArray(e)&&typeof e!=="string"){s=e;if(isArray(t)){e=t;t=n;n=r}else{e=[]}}if(s&&s.context){o=s.context}i=getOwn(contexts,o);if(!i){i=contexts[o]=req.s.newContext(o)}if(s){i.configure(s)}return i.require(e,t,n)};req.config=function(e){return req(e)};req.nextTick=typeof setTimeout!=="undefined"?function(e){setTimeout(e,4)}:function(e){e()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=function(e){throw e};req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser){i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");i.type=r.scriptType||"text/javascript";i.charset="utf-8";i.async=true;i.setAttribute("data-requirecontext",e.contextName);i.setAttribute("data-requiremodule",t);if(i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera){useInteractive=true;i.attachEvent("onreadystatechange",e.onScriptLoad)}else{i.addEventListener("load",e.onScriptLoad,false);i.addEventListener("error",e.onScriptError,false)}i.src=n;currentlyAddingScript=i;if(baseElement){head.insertBefore(i,baseElement)}else{head.appendChild(i)}currentlyAddingScript=null;return i}else if(isWebWorker){try{importScripts(n);e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}}};if(isBrowser){eachReverse(scripts(),function(e){if(!head){head=e.parentNode}dataMain=e.getAttribute("data-main");if(dataMain){if(!cfg.baseUrl){src=dataMain.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath;dataMain=mainScript}dataMain=dataMain.replace(jsSuffixRegExp,"");cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain];return true}})}define=function(e,t,n){var r,i;if(typeof e!=="string"){n=t;t=e;e=null}if(!isArray(t)){n=t;t=[]}if(!t.length&&isFunction(n)){if(n.length){n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)});t=(n.length===1?["require"]:["require","exports","module"]).concat(t)}}if(useInteractive){r=currentlyAddingScript||getInteractiveScript();if(r){if(!e){e=r.getAttribute("data-requiremodule")}i=contexts[r.getAttribute("data-requirecontext")]}}(i?i.defQueue:globalDefQueue).push([e,t,n])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(this)